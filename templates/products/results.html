{% extends 'base.html' %}
{% load staticfiles %}


{% block content %}

<h1>Searched for: {{ query }}</h1>

<!--create a table to show the search results-->
<table class="table">
    <!--table headers-->
<thead>
<th></th>
<th>Product</th>
</thead>
<tbody>
{% for product in products %}
    <tr>
    <!--image in search results-->
    <td style="
    width: 160px;
    height:160px;">
    {% if product.productimage_set.all %}
        {% for item in product.productimage_set.all %}
        <!-- if the image is has been featured as the main image-->
            {% if item.featured %}

        <!--<div style="-->
        <!--width:100%;-->
        <!--height: 100%;-->
        <!--background-image:url('{{ MEDIA_URL }}{{ item.image }}');-->
        <!--background-size: cover;-->
        <!--background-repeat: no-repeat;-->
        <!--background-position: center">-->



        <a href='{{ product.get_absolute_url }}'>
        <!-- hard coding the height and width so that we can click the image to take to the product-->
        <div class="background_img_thumb", style="height:160px; width:160px; background-image:url('{{ MEDIA_URL }}{{ item.image }}');">
        </div>
        </a>
        </div>

            {% endif %}
        {% endfor %}
    {%else%}
        <!-- if there is no image attached with the product-->
        <a href='{{ product.get_absolute_url }}'>
        <div class="background_img_thumb style",style="height:160px;"></div>
        </a>
    <!--<div style="-->
        <!--width:100%;-->
        <!--height: 100%;-->
        <!--background-image: url('{% static 'img/placeholder.svg'%}');-->
        <!--background-size: cover;-->
        <!--background-repeat: no-repeat;-->
        <!--background-position: center">-->
    <!--</div>-->
    {%endif%}

    </td>
    <td>
     <!-- get the products in the table in the search query-->
        <a href="{{product.get_absolute_url}}">
         {{ product }}</a>
    </td>
    </tr>
{% endfor %}
</tbody>
</table>
<!--end of image in search results-->


{% endblock %}